<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th∆∞ M·ªùi D·ª± Ti·ªác C∆∞·ªõi - Quang Gio√≥ng & Chum Chum</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style-final.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&family=Great+Vibes&family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Auto-play audio -->
    <script>
        // H√†m ph√°t nh·∫°c t·ª± ƒë·ªông
        function playAudio() {
            const audio = document.getElementById('weddingMusic');
            if (audio) {
                audio.volume = 0.3; // √Çm l∆∞·ª£ng v·ª´a ph·∫£i
                const playPromise = audio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        // √Çm thanh b·∫Øt ƒë·∫ßu t·ª± ƒë·ªông
                        console.log('√Çm thanh ƒëang ph√°t t·ª± ƒë·ªông');
                    }).catch(error => {
                        // Tr√¨nh duy·ªát ch·∫∑n auto-play, y√™u c·∫ßu t∆∞∆°ng t√°c ng∆∞·ªùi d√πng
                        console.log('C·∫ßn t∆∞∆°ng t√°c ƒë·ªÉ ph√°t nh·∫°c');
                        
                        // Th√™m s·ª± ki·ªán click to√†n trang ƒë·ªÉ k√≠ch ho·∫°t √¢m thanh
                        document.body.addEventListener('click', function activateAudio() {
                            audio.play();
                            document.body.removeEventListener('click', activateAudio);
                        }, { once: true });
                    });
                }
            }
        }
        
        // Ph√°t nh·∫°c khi trang load xong
        window.addEventListener('load', playAudio);
    </script>
</head>
<body>
    <!-- Audio t·ª± ƒë·ªông ph√°t -->
    <audio id="weddingMusic" loop autoplay>
        <source src="{{ url_for('static', filename='audio/amthanhcuoi.mp3') }}" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t √¢m thanh.
    </audio>

    <div class="background-pattern"></div>
    
    <!-- Animated Floating Elements -->
    <div class="floating-hearts"></div>
    <div class="floating-flowers"></div>
    <div class="floating-sparkles"></div>
    
    <!-- Animated Characters -->
    <div class="animated-character groom">
        <img src="{{ url_for('static', filename='images/animated/groom.gif') }}" 
             alt="Ch√∫ r·ªÉ ho·∫°t h√¨nh" 
             onerror="this.style.display='none'">
    </div>
    
    <div class="animated-character bride">
        <img src="{{ url_for('static', filename='images/animated/bride.gif') }}" 
             alt="C√¥ d√¢u ho·∫°t h√¨nh"
             onerror="this.style.display='none'">
    </div>
    
    <div class="invitation-container">
        <!-- TI√äU ƒê·ªÄ V·ªöI HI·ªÜU ·ª®NG -->
        <div class="title-container animate__animated animate__fadeInDown">
            <div class="title-sparkle left">‚ú®</div>
            <h1 class="main-title animate__animated animate__pulse animate__infinite animate__slower">TH∆Ø M·ªúI D·ª∞ TI·ªÜC C∆Ø·ªöI</h1>
            <div class="title-sparkle right">‚ú®</div>
            <p class="title-subtitle animate__animated animate__fadeIn animate__delay-1s">Quang Gio√≥ng & Chum Chum</p>
        </div>

        <!-- ·∫¢NH CH√çNH V·ªöI HI·ªÜU ·ª®NG -->
        <div class="main-hero-section">
            <!-- T√™n c·∫∑p ƒë√¥i v·ªõi hi·ªáu ·ª©ng -->
            <div class="couple-names-top animate__animated animate__bounceIn">
                <div class="couple-name-hero animate__animated animate__heartBeat animate__delay-2s animate__infinite">Quang Gio√≥ng</div>
                <div class="heart-separator floating">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="couple-name-hero animate__animated animate__heartBeat animate__delay-3s animate__infinite">Chum Chum</div>
            </div>

            <!-- ·∫¢nh ch√≠nh v·ªõi hi·ªáu ·ª©ng -->
            <div class="hero-image-container animate__animated animate__zoomIn">
                <div class="image-frame">
                    <img src="{{ url_for('static', filename='images/chinh.jpg') }}" 
                         alt="C√¥ d√¢u & Ch√∫ r·ªÉ" 
                         class="hero-image"
                         onerror="this.src='/static/images/default-couple.jpg'">
                </div>
            </div>

            <!-- Th∆° d∆∞·ªõi ·∫£nh -->
            <div class="poem-below animate__animated animate__fadeInUp animate__delay-1s">
                <p>"Duy√™n ph·∫≠n l√† s·ª£i ch·ªâ h·ªìng</p>
                <p>Tr·ªùi se k·∫øt m·ªëi t∆° ƒë·ªìng ƒë√¥i ta"</p>
            </div>

            <!-- Th·ªùi gian v·ªõi hi·ªáu ·ª©ng -->
            <div class="time-info-below animate__animated animate__pulse animate__infinite animate__slow">
                <div class="time-badge animate__animated animate__tada animate__infinite animate__slower">üíù</div>
                <div class="time-below">16:00</div>
                <div class="day-below">TH·ª® T∆Ø</div>
                <div class="date-below">07.01.2025</div>
                <div class="location-below">
                    H√¥n l·ªÖ ƒë∆∞·ª£c t·ªï ch·ª©c t·∫°i nh√† trai
                </div>
            </div>
        </div>

        <!-- HAI GIA ƒê√åNH V·ªöI HI·ªÜU ·ª®NG -->
        <div class="families-container">
            <!-- NH√Ä G√ÅI - B√äN TR√ÅI -->
            <div class="family-left animate__animated animate__slideInLeft">
                <div class="family-icon">üë∞</div>
                <h2 class="family-title">NH√Ä G√ÅI</h2>
                
                <div class="parents-container">
                    <div class="parent-card animate__animated animate__fadeInUp animate__delay-1s">
                        <div class="parent-avatar">üë®</div>
                        <div class="parent-name">√îng: L∆∞·ªùng VƒÉn So·∫°n</div>
                        <div class="parent-role">Th√¢n ph·ª• c√¥ d√¢u</div>
                    </div>
                    
                    <div class="parent-card animate__animated animate__fadeInUp animate__delay-2s">
                        <div class="parent-avatar">üë©</div>
                        <div class="parent-name">B√†: L∆∞·ªùng Th·ªã Chung</div>
                        <div class="parent-role">Th√¢n m·∫´u c√¥ d√¢u</div>
                    </div>
                </div>
                
                <div class="bride-groom-section animate__animated animate__zoomIn">
                    <div class="bride-groom-title">C√î D√ÇU</div>
                    <div class="bride-groom-name floating-text">Chum Chum</div>
                </div>
            </div>

            <!-- NH√Ä TRAI - B√äN PH·∫¢I -->
            <div class="family-right animate__animated animate__slideInRight">
                <div class="family-icon">ü§µ</div>
                <h2 class="family-title">NH√Ä TRAI</h2>
                
                <div class="parents-container">
                    <div class="parent-card animate__animated animate__fadeInUp animate__delay-1s">
                        <div class="parent-avatar">üë®</div>
                        <div class="parent-name">√îng: ƒê·∫∑ng VƒÉn Ph√πng</div>
                        <div class="parent-role">Th√¢n ph·ª• ch√∫ r·ªÉ</div>
                    </div>
                    
                    <div class="parent-card animate__animated animate__fadeInUp animate__delay-2s">
                        <div class="parent-avatar">üë©</div>
                        <div class="parent-name">B√†: Di·ªáp Th·ªã D√≠n</div>
                        <div class="parent-role">Th√¢n m·∫´u ch√∫ r·ªÉ</div>
                    </div>
                </div>
                
                <div class="bride-groom-section animate__animated animate__zoomIn">
                    <div class="bride-groom-title">CH√ö R·ªÇ</div>
                    <div class="bride-groom-name floating-text">Quang Gio√≥ng</div>
                </div>
            </div>
        </div>

        <!-- TH∆Ø M·ªúI CH√çNH V·ªöI HI·ªÜU ·ª®NG -->
        <div class="main-invitation animate__animated animate__fadeIn">
            <div class="invitation-title">
                <div class="invitation-sparkle">‚ú®</div>
                <h1 class="animate__animated animate__rubberBand animate__delay-2s">TH∆Ø M·ªúI THAM D·ª∞ TI·ªÜC C∆Ø·ªöI</h1>
                <div class="invitation-sparkle">‚ú®</div>
            </div>
            
            <div class="invitation-couple-names">
                <div class="invitation-couple-name floating-text">Quang Gio√≥ng</div>
                <div class="invitation-heart floating-heart">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="invitation-couple-name floating-text">Chum Chum</div>
            </div>
            
            <div class="invitation-text animate__animated animate__fadeIn animate__delay-1s">
                <p class="invitation-greeting">Tr√¢n tr·ªçng k√≠nh m·ªùi gia ƒë√¨nh, b·∫°n b√®, anh ch·ªã em</p>
                <p>ƒê·∫øn d·ª± bu·ªïi ti·ªác m·ª´ng h√¥n l·ªÖ c·ªßa ch√∫ng t√¥i. 
                S·ª± hi·ªán di·ªán c·ªßa Qu√Ω v·ªã l√† ni·ªÅm vinh h·∫°nh l·ªõn lao 
                cho gia ƒë√¨nh ch√∫ng t√¥i.</p>
            </div>
            
            <!-- TH√îNG TIN L·ªÑ VU QUY V·ªöI HI·ªÜU ·ª®NG - ƒê√É C·∫¨P NH·∫¨T -->
            <div class="ceremony-info animate__animated animate__pulse animate__infinite animate__slow">
                <div class="ceremony-title">
                    <h2><i class="fas fa-ring spinning"></i> L·ªÑ VU QUY</h2>
                </div>
                
                <div class="ceremony-details">
                    <!-- ƒê√É X√ìA PH·∫¶N "V√ÄO L√öC 16:00" RI√äNG BI·ªÜT -->
                    <!-- GI·ªú 16:00 ƒê√É G·ªòP V√ÄO PH·∫¶N NG√ÄY -->
                    
                    <div class="detail-item animate__animated animate__flipInX">
                        <h3><i class="fas fa-calendar-alt"></i> NG√ÄY & GI·ªú</h3>
                        <div class="detail-value">
                            16:00<br>
                            <span class="date-time">07 TH√ÅNG 01 NƒÇM 2025</span>
                        </div>
                        <div class="detail-note">(Th·ª© T∆∞)</div>
                    </div>
                    
                    <div class="detail-item animate__animated animate__flipInX animate__delay-1s">
                        <h3><i class="fas fa-map-marker-alt"></i> ƒê·ªäA ƒêI·ªÇM</h3>
                        <div class="detail-value">T∆Ø GIA NH√Ä TRAI</div>
                        <div class="detail-address">T√¢n Gi√°o - Nam D∆∞∆°ng - B·∫Øc Ninh</div>
                        <div class="address-old">ƒê·ªôi 1 - Th√¥n T√¢n Gi√°o - X√£ T√¢n M·ªôc - L·ª•c Ng·∫°n - B·∫Øc Giang</div>
                        <a href="https://maps.google.com/?q=21¬∞15'50.2%22N 106¬∞36'44.2%22E" 
                           target="_blank" class="map-link">
                            <i class="fas fa-directions"></i> Xem b·∫£n ƒë·ªì
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- PH·∫¶N QR V√Ä STK (2 QR) -->
        <div class="qr-section animate__animated animate__bounceInUp">
            <div class="qr-title">
                <h2><i class="fas fa-qrcode spinning"></i> G·ª≠i L·ªùi Ch√∫c M·ª´ng</h2>
            </div>
            
            <div class="qr-double-container">
                <!-- QR C√î D√ÇU -->
                <div class="qr-couple">
                    <div class="qr-header bride-header">
                        <i class="fas fa-user-bride"></i>
                        <h3>C√¥ D√¢u</h3>
                    </div>
                    
                    <div class="qr-image-container animate__animated animate__rotateIn">
                        <img src="{{ url_for('static', filename='images/qrvk.jpg') }}" 
                             alt="QR Code C√¥ D√¢u" 
                             class="qr-image floating"
                             onerror="this.src='/static/images/default-qr.jpg'">
                    </div>
                    
                    <div class="bank-info">
                        <div class="bank-item">
                            <h3><i class="fas fa-university"></i> Ng√¢n h√†ng</h3>
                            <p>Qu√¢n ƒë·ªôi (MBBank)</p>
                        </div>
                        
                        <div class="bank-item">
                            <h3><i class="fas fa-user"></i> Ch·ªß t√†i kho·∫£n</h3>
                            <p>L∆Ø∆†NG TH·ªä CHUM</p>
                        </div>
                        
                        <div class="bank-item">
                            <h3><i class="fas fa-credit-card"></i> S·ªë t√†i kho·∫£n</h3>
                            <p class="copyable">9961 9967 7777</p>
                        </div>
                    </div>
                </div>
                
                <!-- QR CH√ö R·ªÇ -->
                <div class="qr-couple">
                    <div class="qr-header groom-header">
                        <i class="fas fa-user-tie"></i>
                        <h3>Ch√∫ R·ªÉ</h3>
                    </div>
                    
                    <div class="qr-image-container animate__animated animate__rotateIn">
                        <img src="{{ url_for('static', filename='images/qrck.jpg') }}" 
                             alt="QR Code Ch√∫ R·ªÉ" 
                             class="qr-image floating"
                             onerror="this.src='/static/images/default-qr.jpg'">
                    </div>
                    
                    <div class="bank-info">
                        <div class="bank-item">
                            <h3><i class="fas fa-university"></i> Ng√¢n h√†ng</h3>
                            <p>BIDV</p>
                        </div>
                        
                        <div class="bank-item">
                            <h3><i class="fas fa-user"></i> Ch·ªß t√†i kho·∫£n</h3>
                            <p>ƒê·∫∂NG VƒÇN GIO√ìNG</p>
                        </div>
                        
                        <div class="bank-item">
                            <h3><i class="fas fa-credit-card"></i> S·ªë t√†i kho·∫£n</h3>
                            <p class="copyable">8854 9117 87</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="qr-message animate__animated animate__fadeIn animate__delay-2s">
                <p><i class="fas fa-heart heartbeat"></i> 
                M·ªçi l·ªùi ch√∫c m·ª´ng v√† qu√† t·∫∑ng ƒë·ªÅu l√† t√¨nh c·∫£m qu√Ω b√°u c·ªßa m·ªçi ng∆∞·ªùi. 
                Xin ch√¢n th√†nh c·∫£m ∆°n!</p>
            </div>
        </div>

        <!-- TH√îNG TIN LI√äN H·ªÜ V·ªöI HI·ªÜU ·ª®NG -->
        <div class="contact-section animate__animated animate__jackInTheBox">
            <div class="contact-title">
                <h3><i class="fas fa-phone-alt"></i> Th√¥ng tin li√™n h·ªá</h3>
            </div>
            
            <div class="contact-info">
                <div class="contact-item animate__animated animate__bounceInLeft">
                    <div class="contact-avatar">ü§µ</div>
                    <p><strong>Ch√∫ r·ªÉ: Quang Gio√≥ng</strong></p>
                    <p><i class="fas fa-phone"></i> 0356 616 112</p>
                </div>
                
                <div class="contact-item animate__animated animate__bounceInRight">
                    <div class="contact-avatar">üë∞</div>
                    <p><strong>C√¥ d√¢u: Chum Chum</strong></p>
                    <p><i class="fas fa-phone"></i> 0985 909 833</p>
                </div>
            </div>
        </div>

        <!-- PH·∫¶N ALBUM (ƒê·ªÇ TR·ªêNG) -->
        <div class="album-section" id="albumSection">
            <h2 class="album-title"><i class="fas fa-images"></i> Album ·∫¢nh C∆∞·ªõi</h2>
            <div class="album-grid" id="albumGrid">
                <!-- Album s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y sau -->
                <div class="album-placeholder">
                    <i class="fas fa-camera fa-3x"></i>
                    <p>Album ·∫£nh s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t sau</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Confetti Effect -->
    <div id="confetti"></div>

    <script>
        // Auto-play audio v·ªõi fallback cho c√°c tr√¨nh duy·ªát ch·∫∑n autoplay
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('weddingMusic');
            
            if (audio) {
                audio.volume = 0.3; // √Çm l∆∞·ª£ng 30%
                
                // Th·ª≠ ph√°t nh·∫°c t·ª± ƒë·ªông
                const playPromise = audio.play();
                
                if (playPromise !== undefined) {
                    playPromise.catch(() => {
                        // N·∫øu b·ªã ch·∫∑n, th√™m s·ª± ki·ªán click to√†n trang ƒë·ªÉ k√≠ch ho·∫°t
                        document.addEventListener('click', function initAudio() {
                            audio.play();
                            document.removeEventListener('click', initAudio);
                        }, { once: true });
                        
                        // Hi·ªÉn th·ªã th√¥ng b√°o nh·ªè
                        showAudioPrompt();
                    });
                }
            }
            
            // Hi·ªáu ·ª©ng confetti khi click
            document.addEventListener('click', createConfetti);
            
            // T·∫°o floating elements
            createFloatingElements();
            
            // Hi·ªáu ·ª©ng cho c√°c th√†nh ph·∫ßn
            setupAnimations();
            
            // Thi·∫øt l·∫≠p copy s·ªë t√†i kho·∫£n
            setupCopyFunction();
        });
        
        // Hi·ªÉn th·ªã th√¥ng b√°o nh·ªè v·ªÅ √¢m thanh
        function showAudioPrompt() {
            const prompt = document.createElement('div');
            prompt.className = 'audio-prompt';
            prompt.innerHTML = `
                <i class="fas fa-music"></i>
                <span>Click v√†o trang ƒë·ªÉ nghe nh·∫°c c∆∞·ªõi</span>
            `;
            document.body.appendChild(prompt);
            
            setTimeout(() => {
                prompt.remove();
            }, 5000);
        }
        
        // T·∫°o confetti
        function createConfetti() {
            const confetti = document.getElementById('confetti');
            for(let i = 0; i < 100; i++) {
                const particle = document.createElement('div');
                particle.className = 'confetti-particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.backgroundColor = getRandomColor();
                confetti.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 3000);
            }
        }
        
        function getRandomColor() {
            const colors = ['#ff4081', '#c2185b', '#7b1fa2', '#4169e1', '#4CAF50'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // T·∫°o floating elements
        function createFloatingElements() {
            const heartsContainer = document.querySelector('.floating-hearts');
            const flowersContainer = document.querySelector('.floating-flowers');
            const sparklesContainer = document.querySelector('.floating-sparkles');
            
            const hearts = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû'];
            const flowers = ['üå∏', 'üå∫', 'üå∑', 'üåπ', 'üíê'];
            const sparkles = ['‚ú®', 'üåü', '‚≠ê', 'üí´', 'üéä'];
            
            createElements(heartsContainer, hearts, 15, 'heart');
            createElements(flowersContainer, flowers, 10, 'flower');
            createElements(sparklesContainer, sparkles, 20, 'sparkle');
        }
        
        function createElements(container, symbols, count, className) {
            for(let i = 0; i < count; i++) {
                const element = document.createElement('div');
                element.className = `floating-element ${className}`;
                element.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                element.style.left = Math.random() * 100 + 'vw';
                element.style.animationDelay = Math.random() * 5 + 's';
                element.style.fontSize = (Math.random() * 20 + 15) + 'px';
                element.style.opacity = Math.random() * 0.5 + 0.5;
                container.appendChild(element);
            }
        }
        
        // Thi·∫øt l·∫≠p hi·ªáu ·ª©ng
        function setupAnimations() {
            // Intersection Observer cho hi·ªáu ·ª©ng scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            // Quan s√°t t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ c·∫ßn hi·ªáu ·ª©ng
            document.querySelectorAll('.parent-card, .detail-item, .contact-item, .bank-item').forEach(el => {
                observer.observe(el);
            });
        }
        
        // Thi·∫øt l·∫≠p copy s·ªë t√†i kho·∫£n
        function setupCopyFunction() {
            document.querySelectorAll('.copyable').forEach(element => {
                element.addEventListener('click', function() {
                    const text = this.textContent.replace(/\s/g, '');
                    navigator.clipboard.writeText(text).then(() => {
                        const original = this.innerHTML;
                        this.innerHTML = '‚úÖ ƒê√£ sao ch√©p!';
                        this.style.color = '#4CAF50';
                        setTimeout(() => {
                            this.innerHTML = original;
                            this.style.color = '';
                        }, 2000);
                    });
                });
                element.style.cursor = 'pointer';
                element.title = 'Click ƒë·ªÉ sao ch√©p';
            });
        }
    </script>
</body>
</html>