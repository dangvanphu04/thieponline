<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album Ảnh Cưới - {{ couple_name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/album.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="album-container">
        <!-- Header -->
        <header class="album-header">
            <div class="back-home">
                <a href="{{ url_for('index') }}" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Trở về thiệp mời
                </a>
            </div>
            
            <div class="album-title">
                <h1><i class="fas fa-images"></i> Album Ảnh Cưới</h1>
                <p class="couple-subtitle">Nguyễn Văn A ❤ Trần Thị B</p>
            </div>
        </header>

        <!-- Album Navigation -->
        <nav class="album-categories">
            <button class="category-btn active" data-category="all">Tất cả ảnh</button>
            <button class="category-btn" data-category="pre-wedding">Tiền hôn lễ</button>
            <button class="category-btn" data-category="ceremony">Lễ cưới</button>
            <button class="category-btn" data-category="reception">Tiệc cưới</button>
            <button class="category-btn" data-category="family">Gia đình</button>
            <button class="category-btn" data-category="friends">Bạn bè</button>
        </nav>

        <!-- Photo Grid -->
        <div class="photo-grid" id="photoGrid">
            <!-- Ảnh sẽ được thêm bằng JavaScript -->
        </div>

        <!-- Lightbox Modal -->
        <div class="lightbox" id="lightbox">
            <div class="lightbox-content">
                <button class="lightbox-close" id="closeLightbox">
                    <i class="fas fa-times"></i>
                </button>
                <button class="lightbox-nav prev" id="prevBtn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="lightbox-nav next" id="nextBtn">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <img id="lightbox-img" src="" alt="">
                <div class="lightbox-info">
                    <h3 id="photo-title"></h3>
                    <p id="photo-date"></p>
                    <p id="photo-description"></p>
                </div>
            </div>
        </div>

        <!-- Photo Upload Section (Optional) -->
        {% if can_upload %}
        <div class="upload-section">
            <h3><i class="fas fa-cloud-upload-alt"></i> Chia sẻ ảnh của bạn</h3>
            <form id="uploadForm" enctype="multipart/form-data">
                <div class="upload-area" id="dropArea">
                    <i class="fas fa-cloud-upload-alt fa-3x"></i>
                    <p>Kéo thả ảnh vào đây hoặc click để chọn</p>
                    <input type="file" id="fileInput" multiple accept="image/*">
                </div>
                <div class="upload-info">
                    <input type="text" id="photoName" placeholder="Tên ảnh (tùy chọn)">
                    <textarea id="photoMessage" placeholder="Lời nhắn kèm theo..."></textarea>
                </div>
                <button type="submit" class="upload-btn">
                    <i class="fas fa-share"></i> Chia sẻ ảnh
                </button>
            </form>
            <div id="uploadStatus"></div>
        </div>
        {% endif %}

        <!-- Footer -->
        <footer class="album-footer">
            <p>Album ảnh được cập nhật liên tục cho đến ngày cưới</p>
            <div class="album-stats">
                <span><i class="fas fa-images"></i> <span id="totalPhotos">0</span> ảnh</span>
                <span><i class="fas fa-eye"></i> <span id="totalViews">0</span> lượt xem</span>
                <span><i class="fas fa-heart"></i> <span id="totalLikes">0</span> lượt thích</span>
            </div>
            <p class="share-link">
                Chia sẻ album: 
                <input type="text" readonly value="{{ request.url }}" id="shareUrl">
                <button onclick="copyShareLink()"><i class="fas fa-copy"></i></button>
            </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/album.js') }}"></script>
</body>
</html>